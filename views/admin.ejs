<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Data Entry</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <img src="logo.png" alt="XYZ Logo" class="logo">
            <h1>XYZ Engineering College</h1>
            <h2>(An Autonomous Institution)</h2>
        </header>
    </div>

    <center>
        <h2>Data Entry Portal</h2>
        <form action="/insert" method="post">

            <!-- Student Information -->
            <div>
                <label for="rollNumber">Roll Number:</label>
                <input type="text" id="rollNumber" name="rollnumber" placeholder="Roll Number" required>
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" placeholder="Name" required>
                <label for="branch">Branch:</label>
                <input type="text" id="branch" name="branch" placeholder="Branch" required>
                <br>
                <label for="semester">Semester:</label>
                <select id="semester" name="semester" required>
                    <option value="" disabled selected>Choose Semester</option>
                    <option value="SEM-1">Sem 1</option>
                    <option value="SEM-2">Sem 2</option>
                    <option value="SEM-3">Sem 3</option>
                    <option value="SEM-4">Sem 4</option>
                    <option value="SEM-5">Sem 5</option>
                    <option value="SEM-6">Sem 6</option>
                    <option value="SEM-7">Sem 7</option>
                    <option value="SEM-8">Sem 8</option>
                </select>
            </div>
            <br>

            <!-- Marks Entry Table -->
            <table id="marksTable" border="1">
                <thead>
                    <tr>
                        <th>S.No</th>
                        <th>Subject Code</th>
                        <th>Subject Name</th>
                        <th>Final Grade</th>
                        <th>Credits</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="number" name="subjects[0][Sno]" placeholder="S.No" required></td>
                        <td><input type="text" name="subjects[0][SubCode]" placeholder="Subject Code" required></td>
                        <td><input type="text" name="subjects[0][SubjectName]" placeholder="Subject Name" required></td>
                        <td>
                            <select name="subjects[0][FinalGrade]" required>
                                <option value="" disabled selected>Choose Grade</option>
                                <option value="A+">A+</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                            </select>
                        </td>
                        <td><input type="number" step="0.5" name="subjects[0][Credits]" placeholder="Credits" required></td>
                        <td><button type="button" class="removeRow">Remove</button></td>
                    </tr>
                </tbody>
            </table>
            <br>
            <button type="button" id="addRowBtn">Add Row</button>
            <br><br>
            <button type="submit">Submit</button>
        </form>
    </center>

    <div class="footer">
        <p>&copy; 2025 XYZ Engineering College. All Rights Reserved.</p>
    </div>

    <script>
        let rowIndex = 1;

        // Add Row Functionality
        document.getElementById('addRowBtn').addEventListener('click', () => {
            const tableBody = document.querySelector('#marksTable tbody');
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td><input type="number" name="subjects[${rowIndex}][Sno]" placeholder="S.No" required></td>
                <td><input type="text" name="subjects[${rowIndex}][SubCode]" placeholder="Subject Code" required></td>
                <td><input type="text" name="subjects[${rowIndex}][SubjectName]" placeholder="Subject Name" required></td>
                <td>
                    <select name="subjects[${rowIndex}][FinalGrade]" required>
                        <option value="" disabled selected>Choose Grade</option>
                        <option value="A+">A+</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                    </select>
                </td>
                <td><input type="number" step="0.5" name="subjects[${rowIndex}][Credits]" placeholder="Credits" required></td>
                <td><button type="button" class="removeRow">Remove</button></td>
            `;
            tableBody.appendChild(newRow);
            rowIndex++;
        });

        // Remove Row Functionality
        document.querySelector('#marksTable').addEventListener('click', (e) => {
            if (e.target.classList.contains('removeRow')) {
                e.target.closest('tr').remove();
            }
        });
    </script>
</body>
</html>
